â€¦or create a new repository on the command line


echo "# ShiftTracker" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/ClassyKaran/ShiftTracker.git
git push -u origin main


â€¦or push an existing repository from the command line
git remote add origin https://github.com/ClassyKaran/ShiftTracker.git
git branch -M main
git push -u origin main




Build a complete working SHIFT TRACK system using the exact requirements below.  

The project is a real-time employee shift tracking tool:
Employee Login â†’ Session Start â†’ Real-Time Online/Offline/Disconnected tracking â†’ Logout â†’ Session Saved.
Admin sees the live status of every employee.

-----------------------------------------------------
ğŸŸ¦ FRONTEND REQUIREMENTS (ReactJS)
-----------------------------------------------------

I ALREADY HAVE A REACT SETUP.  
DO NOT create a new React project.  
Generate only the required files/folders and code inside `src/`.

### âœ”ï¸ Allowed Frontend Libraries
- ReactJS (existing setup)
- Bootstrap 5 (UI only)
- React Query
- Axios
- Socket.io-client
- React Toastify
- React Router DOM v6
- Day.js (time formatting)
- Recharts (only import when needed)

### âœ”ï¸ Frontend Folder Structure (Create these)
src/
  api/
    authApi.js
    sessionApi.js
  components/
    Header.jsx
    Timer.jsx
    UserCard.jsx
  pages/
    Login.jsx
    EmployeeHome.jsx
    Dashboard.jsx
  context/
    socket.js
  hooks/
    useAuth.js
    useSession.js
  utils/
    time.js
  App.js
  index.js

### âœ”ï¸ FRONTEND PAGE LOGIC

#### Login Page
- Login using: employeeId + password
- Call backend API
- Save JWT token
- Redirect based on role:
  - employee â†’ EmployeeHome
  - admin â†’ Dashboard
- Toastify for alerts

#### EmployeeHome Page
- On mount: start a session by calling backend
- Connect to Socket.io
- Show real-time timer (Timer component)
- Logout button â†’ end session
- On logout â†’ navigate to Login

#### Dashboard Page (Admin)
Show ALL employees in a bootstrap table:
Columns:
- Name
- Employee ID
- Login Time
- Active Time (live timer)
- Status (online/offline/disconnected)

Real-time updates using Socket.io:
Events:
- user_online
- user_offline
- user_disconnected
- users_list_update

### âœ”ï¸ React Query Global States
- user
- token
- activeSession
- activeUsers (socket)

-----------------------------------------------------
ğŸŸ© BACKEND REQUIREMENTS (Node + Express)
-----------------------------------------------------

### âœ”ï¸ Backend Allowed Libraries
- express
- mongoose
- cors
- dotenv
- jsonwebtoken
- bcrypt
- socket.io



### âœ”ï¸ Backend Folder Structure
src/
  config/db.js
  controllers/authController.js
  controllers/sessionController.js
  models/User.js
  models/Session.js
  routes/authRoutes.js
  routes/sessionRoutes.js
  middleware/authMiddleware.js
  socket/socketHandler.js
  server.js

### âœ”ï¸ MongoDB Schemas

User.js
- name: String
- employeeId: String (unique)
- password: String (hashed)
- role: "employee" | "admin"
- isActive: Boolean (default false)

Session.js
- userId: ObjectId
- loginTime: Date
- logoutTime: Date
- totalDuration: Number
- status: "online" | "offline" | "disconnected"
- ip: String
- createdAt: Date

### âœ”ï¸ Backend Authentication (JWT)
- POST /api/auth/login
- POST /api/auth/add-user (admin only)
- GET /api/auth/me

### âœ”ï¸ Shift Session Logic (Required Only)
- POST /api/session/start â†’ Create session, mark user online
- POST /api/session/end â†’ Logout, calculate duration
- GET /api/session/active â†’ Return active users
- GET /api/session/logs â†’ Return session logs

### âœ”ï¸ Socket.io Server Events
Emit these events:
- user_online
- user_offline
- user_disconnected
- users_list_update

### âœ”ï¸ Disconnect Handling
When socket disconnects:
- mark employee as disconnected
- update session status
- notify admin dashboard

-----------------------------------------------------
ğŸŸ§ ENV VARIABLES
-----------------------------------------------------

Backend (.env)
PORT=
MONGO_URI=
JWT_SECRET=
CLIENT_URL=

Frontend (.env)
REACT_APP_API_URL=
REACT_APP_SOCKET_URL=

-----------------------------------------------------
ğŸŸ¦ DEPLOYMENT TARGETS
-----------------------------------------------------
Frontend â†’ Netlify  
Backend â†’ Render  
MongoDB â†’ MongoDB Atlas  


-----------------------------------------------------
â†’ Generate COMPLETE code for ALL backend and frontend files listed above.  
â†’ Use Bootstrap for 100% of the UI
â†’ Follow the exact folder structure.  
â†’ Implement all APIs, sockets, real-time updates, and routing.    
â†’ Keep everything clean and minimal.  
â†’ Do not add any other libraries.  
â†’ Final project must run on first try.

